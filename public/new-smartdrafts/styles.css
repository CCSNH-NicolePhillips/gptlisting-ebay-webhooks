:root { --bg:#0b0c10; --panel:#111217; --muted:#a3a3a3; --fg:#e5e7eb; --chip:#374151; --pill:#1f2937; --accent:#2563eb; }
* { box-sizing: border-box; }
html,body,#root { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--fg); font: 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; padding-top: 60px; }
.page { display: flex; flex-direction: column; height: 100%; }
.topbar { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid #1f2937; }
.actions { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.actions .btn { margin-left: 8px; }
.btn { background: var(--accent); color: white; border: 0; padding: 8px 12px; border-radius: 8px; cursor: pointer; }
.btn.secondary { background:#1f2937; border:1px solid #2a2f3a; }
.toggle span, .folder span { margin-right:6px; color: var(--muted); }
.input { background:#0f172a; color:var(--fg); border:1px solid #1f2937; border-radius:8px; padding:6px 10px; min-width:320px; }
.check { display:flex; align-items:center; gap:6px; color: var(--muted); }
.toast { position:sticky; top:8px; background:#022c22; color:#bbf7d0; padding:6px 10px; border:1px solid #064e3b; border-radius:8px; width:max-content; z-index:100; }
.tabs { display: flex; gap: 8px; padding: 8px 16px; border-bottom: 1px solid #1f2937; }
.tab { background: transparent; color: var(--fg); border: 1px solid #1f2937; padding: 6px 10px; border-radius: 8px; cursor: pointer; }
.tab.active { background: var(--panel); }
.content { flex: 1; overflow: auto; padding: 16px; }
.loading,.empty,.placeholder,.muted { color: var(--muted); }

/* Modern loading spinner */
.loading-spinner {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 16px 24px;
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  border: 1px solid #334155;
  border-radius: 12px;
  font-size: 15px;
  color: var(--fg);
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
}

.loading-spinner::before {
  content: '';
  width: 20px;
  height: 20px;
  border: 3px solid #334155;
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Pulse animation for status updates */
.loading-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* Modern toast with slide-in animation */
.toast {
  position: sticky;
  top: 8px;
  background: linear-gradient(135deg, #065f46 0%, #064e3b 100%);
  color: #d1fae5;
  padding: 10px 16px;
  border: 1px solid #10b981;
  border-radius: 10px;
  width: max-content;
  max-width: 500px;
  z-index: 100;
  font-weight: 500;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  animation: slideInDown 0.3s ease-out;
}

.toast.info {
  background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%);
  color: #dbeafe;
  border-color: #3b82f6;
}

.toast.warning {
  background: linear-gradient(135deg, #b45309 0%, #92400e 100%);
  color: #fed7aa;
  border-color: #f59e0b;
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Progress indicator */
.progress-bar {
  width: 100%;
  height: 4px;
  background: #1f2937;
  border-radius: 2px;
  overflow: hidden;
  margin-top: 8px;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), #60a5fa);
  border-radius: 2px;
  animation: indeterminate 1.5s ease-in-out infinite;
}

@keyframes indeterminate {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(400%); }
}
.grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); gap: 12px; }
.card { background: var(--panel); border: 1px solid #1f2937; border-radius: 12px; overflow: hidden; display:flex; flex-direction: column; }
.thumb { width: 100%; height: 160px; object-fit: cover; background: #0f172a; }
.meta { padding: 10px; }
.row { display:flex; justify-content: space-between; align-items: center; }
.name { font-weight: 600; }
.chip { display:inline-block; padding:2px 8px; border-radius: 999px; font-size:12px; color:white; }
.small { color: var(--muted); margin-top: 4px; display:flex; gap:6px; align-items:center; }
.dot { display:inline-block; width:10px; height:10px; border-radius:50%; border:1px solid #111; }
.details { margin-top:8px; }
.desc { color: var(--muted); white-space: pre-wrap; }
.table { width:100%; border-collapse: collapse; margin-top: 8px; }
.table th,.table td { border-bottom: 1px solid #1f2937; padding: 8px; text-align: left; }
.table tr.active { background: #0f172a; }
.pill { display:inline-block; background: var(--pill); color: var(--fg); border:1px solid #1f2937; border-radius: 999px; padding:4px 10px; margin-right:8px;}
.drawer { position: sticky; bottom: 0; background: #0f172a; border:1px solid #1f2937; border-radius: 10px; padding: 10px; margin-top: 8px; }
.list { margin:0; padding-left: 18px; }
.pair { display:grid; grid-template-columns: 1fr 1fr; gap:6px; padding: 0 10px 10px; }
.extras { display:flex; gap:6px; padding: 0 10px 10px; }
.thumb.sm { height: 80px; }
.panel { padding: 10px; }
.stats { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:16px; }
.pre { background:#0f172a; padding:8px; border-radius:6px; overflow:auto; margin:0; }
